---
title: "From Earth Observation Time Series to Event-based Information for Land-use Change Analysis"
subtitle: "<br>"
author: "Dr Victor Maus<br>.font80[Vienna University of Economics and Business]<br>.font80[victor.maus@wu.ac.at]<br>.font80[<a href='https://www.victor-maus.com'>www.victor-maus.com</a>]"
date: ".left[.font80[May 26, 2021]]<div class='footnote-right'>Except where otherwise noted, content on these slides is licensed under <a href='https://creativecommons.org/licenses/by-sa/4.0'>CC BY-SA 4.0 license</a></div>"
output: 
  xaringan::moon_reader:
    chakra: libs/remark-latest.min.js
    self_contained: true
    css: [default, metropolis, metropolis-fonts, libs/my.css, libs/tachyons-min.css]
    nature:
      beforeInit: "libs/my-macros.js"
      ratio: '16:9'
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      slideNumberFormat: "%current%"
editor_options: 
  chunk_output_type: console
---
class: clear
```{r setup, include=FALSE, echo=FALSE}
library(magrittr)
options(htmltools.dir.version = FALSE)
```

.center.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mb5[
**Here insert a motivational figure about global environmental changes**
]

--

<div class="grid-4-1">
<div class="extension-tile bg1-purple-light"><div>Earth observation</div></div>
--
<div class="extension-tile bg1-pink"><div>In situ sensors</div></div>
--
<div class="extension-tile bg1-orange"><div>Statistics and surveys</div></div>
--
<div class="extension-tile bg1-green"><div>...and more</div></div>
</div>

--

.center.bg-washed-red.b--dark-red.ba.bw0.br3.shadow-5.ph4.mt1.ma0.pb4[
### **I investigate how to integrate and extract information from a variate of data sources and develop methods and tools to support real world applications.**
]


???

- XXXXXX, thank you for the introduction and for the opportunity to share and discuss my work with you 

- Today we face big environmental and sustainability challenges: climate changes, biodiversity loss, inequality, everything in a globalized world 

- To tackle these challenges a interdisciplinary research is needed

- usually, requiring a great deal of heterogeneous data sets, including different space and time scales, as well as data quality

- Including, for example, EO, In situ sensors, Statistics and surveys, and more, such as citizen science sources 

- Therefore, it is not always easy to extract information from such sources 

- In my research, in Geoinformatics and GIScience I investigate how to integrate and extract information from a variate of data sources

- I develop new methods and tools to support real world applications and eventually also decision making and policy making

---
# Time-Weighted Dynamic Time Warping

--

.pull-left.center[<img src="img/twdtw.png" height="400"/>]

--

.pull-right.center[<img src="img/mt-map.png" height="400"/>]

--

.pull-left.mt3[<img src="img/dtwSat-light.png" height="100"/>]

.pull-right.pl2[
CRAN: [cran.r-project.org/web/packages/dtwSat](https://cran.r-project.org/web/packages/dtwSat)
<br>Development: [github.com/vwmaus/dtwSat](https://github.com/vwmaus/dtwSat)
<br>References: [Maus et al. (2016)](https://doi.org/10.1109/JSTARS.2016.2517118) and [Maus et al. (2019)](http://dx.doi.org/10.18637/jss.v088.i05)
]

???

- My main contribution to that was the development of a novel method to extract land-use and land-cover information from EO time series (EOTS)

- My motivation to develop the new method was that the current state-of-the-art machine learning algorithms require enormous amounts of labeled training data

- (The data used to calibrate classification land-use and land-cover classification models)

- However, this data is not always easy to collect or sometimes even impossible, for example wen we want to produce information of historical land-use and land-cover changes

- While investigating how to overcome this limitation 

- I discovered that by adding a "temporal-weight" to a method called dynamic time warping (developed in the 70s in the field of speak recognition) I could produce accurate land-use and land-cover maps using as little as one sample per land-use or land-cover class -- while machine learning algorithms require the order of thousands samples per class. 

- The main limitation of the method is its computational time. However, The method is proven to be robust to variations in the phelogical cycles, to noise and gaps in the EO satellite time series.

- Dynamic Time Warping searches for similar temporal profiles by minimizing the difference between them

- For example, in the top of the figure in the left hand side is a well known temporal profile (e.g. Vegetation Index)

- TWDTW finds the matches of the profile to segments of an arbitrary vegetation time series

- Besides the scientific publication, I also published the novel method as an open source R package called dtwSat. 

- I was very happy that the package was well received, it has been downloaded more than 30K times and I haven been contacted by researcher and private sector (mostly remote sensing companies) that use the software on their applications.

---
class: 

# Were do minerals come from? 

--

.footnote-left[Land cover data source: [ESA CCI Land cover](http://maps.elie.ucl.ac.be/CCI/viewer/)]

.center[
<img src="img/carajas-misclassification.svg" height="450"/>
.bg-washed-blue.b--dark-blue.ba.bw0.br3.shadow-5.mh1.mt0.font120[
**Mining is dismissed from the classification system of most land cover data products**
]]


???

- Besides methods my research has also produced novel data sets. 

- My most recent data contribution was the production of a global mining map

- This work was developed in the context of the ERC project FINEPRINT, for which I lead a work package on geodata integration and analysis

- In this project I identified a large data gap on global mining areas

- Although, mining is an important economic activity and critical to our modern society, providing materials for buildings, cars, mobile phones, computers you name it.... almost everything we use this days

- Global scale land cover maps usually disregard mining areas 

- As an example, look at these red areas in CCI Land cover map from the European Space Agency (ESA). 

- The red area in the right hand side is the Urban area of Paraupebas municipality in Brazil

- The area in the left hand side is the largest Iron mine in the world, the Carajá Iron Ore mine

- Although, these two areas have different uses and also different land-covers (biophysical cover), for this map's classification system they are the same

---
class: 
# Algorithms' fault or lack of labeled data?

.footnote-left[Image source: [www.fineprint.global/viewer](www.fineprint.global/viewer)]

.pull-left.center[
.bg-washed-blue.b--dark-blue.ba.bw0.br3.shadow-5.mh1.mt0.font100[
**Carajás Iron Mine, Brazil**
]
<img src="img/carajas-mine-satellite.png" height="450"/>
]

.pull-right.center[
.bg-washed-blue.b--dark-blue.ba.bw0.br3.shadow-5.mh1.mt0.font100[
**Parauapebas, Brazil**
]
<img src="img/parauapebas-city-satellite.png" height="450"/>
]

???

- In these two figures we can see the two areas in a I just mentioned, 

- The Carajás Iron Ore mine in the left hand side and 

- The Urban area of Paraupebas in the right hand side

- If the areas so different even from a satellite image

- Why we do still do not have mining areas in the classification system of land-use and land-cover maps? 

- Is it the algorithms' fault or lack of labeled data?

- State-of-the-art machine learning algorithms can produce extremely accurate maps but require lots of training data 

- This data should cover the full variance/variability of each land cover class

- which is really bad new for mapping mining areas as they are extremely heterogeneous around the world, because of different landscapes, mining techniques, and of course the types of minerals extracted 

- Therefore, automated mining mapping was not an option, and I had to step back and start collecting data

---
layout: false
class: clear, middle, center
background-image: url(img/global-mining-map.png)

.footnote-right[.font-light[Data source: [Maus et al. (2020)](https://www.nature.com/articles/s41597-020-00624-w)]]

.footnote-left[.font-light[Image source: [fineprint.global/viewer](https://www.fineprint.global/viewer)]]

.left-column.pl1.mt0.font120.left.bottom.font-light[
<br><br><br><br><br><br><br><br><br>
**21,060 Polygons**

**57,000 km²**

**88 % Overall Acc.**

]

--

.right-column[
.bg-washed-green.br3.pl3.left[
  ## Ongoing research and collaborations on mining
]

.bg-washed-green.br3.pl3.left[
- **Mining and regional development in Brazil**

- **Unemployment in coal mining regions (World Bank)**

- **Impact of heavy sand extraction in ecosystems (University of Copenhagen)**

- **Modeling mining indirect land-use changes (University of Queensland and University of Melbourne, Australia)**

- **Mining and tropical forest loss (WWF Germany)**

- **Deep Learning for mining detection (University of Münster, Germany and Federal University of Pampa, Brazil)**

- **Synthetic-aperture radar for measuring extraction volume (DLR Germany)**

]]

???

- This map shows the locations of more than 21,000 polyogns which my team produced to fill the mining data gap

- This data has been produce via visual interpretation of satellite images from various sources 

- I am now finishing a second release of the data set which will include more than 50,000 polygons

- This data set is open and anyone can use it for research or other applications 

- The new data set was well received and has generated several follow up research and collaboration (examples in the slide) 

- As you can see there is a vast range of research topics are making use of the data and which I would never have imaged

- This also, highlights the importance of open data and open science

---
layout: false
class: inverse, middle, center

--

# How do we measure land-use changes using satellite earth observations?

???

- You might be wandering what this all have to do with the title of this presentation! 

- Well, everything we have been talking about has to do with land-use and land-cover changes. 

- But how do we measure land-use and land-cover changes using satellite EO? 

---
class:
# Land-use change analysis using earth observation data

.footnote-left[.font80[The figure contains modified Compernicus Sentinel-2 images showing gold mining areas within the Indigenous Territory Kaiapó in Brazil]]

--

.pull-left.center[
<figure>
  <figcaption>.bg-washed-blue.b--dark-green.ba.bw0.br3.shadow-5.mt0.font150.ph2[
  **Snapshots**
  ]</figcaption>
  <p><img src="img/change-from-snapshots.png" height="400"/>
</figure>
]

--

.pull-right.center[
<figure>
  <figcaption>.bg-washed-blue.b--dark-green.ba.bw0.br3.shadow-5.mt0.font150.ph2[
  **Time series**
  ]</figcaption>
  <p><img src="img/change-from-timeseries.png" height="400"/>
</figure>
]


???

- When satellite EO data was more scarce, we could measure changes by using single images taken at a different time, as we can see in this figure

- We take two images from different dates and produce a map of states for each image

- let's say a two land-cover maps and compare them to capture the changes 

- These approach can be strongly affected by the accuracy of the map which is highly dependent on the period of the year when the images were acquired 

- Today more sophisticate classification algorithms use multiple images to produce each land cover map with higher accuracy than using a single image for each period

- As we see in the illustration in the right hand side, where the maps are produced using two temporal stacks

- However, the higher accuracy comes at a cost of an arbitrary selection of intervals that violates time

- The arbitrary length of the stacks adds additional error to change measurements and can distort causal links between variables in land change analysis

- This happens because events and process taking place on the ground can irregular and have variable duration 

- For example, a fast forest clear cut event can take place at any time, but not over the complete arbitrary time period 

- On the other hand, a forest degradation process can be slower, holding from several months to years with consecutive events of selective logging or forest fires


This has been allowed by the increasing availability of satellite images with high spatial temporal resolution, for example, Sentinel-2

In the past when only a few satellite images were availabel over time, the best we could do to analyse changes was to compare them.  Today we still continue to compare images, alghough on a higher temporal resolution.The full potential of the currently tempral available satellite images time series is still to be explored in a continuus manner. For example moving from comparing time series to events, would improve studies on land use trajectories and extraction of causal rules. 

Ignoring the order of time can destor causal links between variables. Runge 2018 (Other others do) shows that time aggregation can create spurious causal links as it can violate the Markov assumption. 

According to Runge 2018 the strengh of the causal machanisms can fluctuate onver time. Could the strengh of spefic causal machanism Z --> Y be hold null for a time period given an intervention machanism (Z _||_ Y | X)?  In that case does the causal machanism exists or it does not exist during the time period? Peters et al (2016) will explain this better! 

<!-- .bg-washed-green.b--dark-green.ba.bw0.br3.shadow-5.mt0.font120.ph2[ -->
<!-- **Temporal stacks have arbitrary length that violates time and add error in change measurements and distort causal links between variables in land-use change analysis.** -->
<!-- ] -->

---
layout: false
class: 

# Event-based information

.center[<img src="img/change-from-events.svg" height="450"/>]

???

- Here I argue for a methodological paradigm change on land change information 

- Moving from comparing maps of states to analyzing spatiotemporal events 

- Therefore, I propose this following research question

---
class: inverse, middle, center

# How to extract and represent event information from satellite EO time series preserving temporal hierarchy?

???

- I intend to investigate this question during the next years 

- And I for see that ensuring this question will allow to improve land change analysis, for example, 

- It will allow to analyze land-use trajectories 

- And improve causal inference to help understand drivers of change and assess intervention outcomes that can give valuable information for sustainable land management, environmental conservation, food security and other interdisciplinary applications 

---
layout: false
class: inverse, middle, center, mline

# Teaching plan

--

.font200.font-dark.center.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb5[
  **Applied Spatial Data Science**
]

--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **Two curricular components 5 ETC each**
]

--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **Component I (BSc): Objective XXXXXX**
]

--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **Component II (MSc): Objective XXXXX**
]

???

- Data Science GIS that exploring geodata, looking at where things happen and understanding why they happen there.

- physical geography, human geography and in geographies of sustainability

- Spatial Data Science

- Using semantics and spatial data science to explore petabytes of satellite images.


---
# Applied Spatial Data Science I
## BSc level course divided in three units

--

<div class="grid-3-1">
<div class="extension-tile-course font150 bg1-blue">Unit 1<br> Introduction to Spatial Data Science</div>
</div>

--

.font130.font-dark.left[
  - **learning goals...**
]

--

.font130.font-dark.left[
  - **Reproducibility (Important for science and to gain trust)...**
]
 
--

.font130.font-dark.left[
  - **Basic geodata handling in R...**
]

---
# Applied Spatial Data Science I
## BSc level

<div class="grid-3-1">
<div class="extension-tile-course font150 bg1-grey">Unit 1<br> Introduction to Spatial Data Science</div>
<div class="extension-tile-course bg1-orange">Unit 2<br>Patterns in space and time</div>
</div>

--

.font130.font-dark.left[
  - **learning goals...**
]

--

.font130.font-dark.left[
  - **Data mining techniques space and time... (Teaching example in the afternoon)**
]
 
--

.font130.font-dark.left[
  - **....**
]

---
# Applied Spatial Data Science I
## BSc level

<div class="grid-3-1">
<div class="extension-tile-course font150 bg1-grey">Unit 1<br> Introduction to Spatial Data Science</div>
<div class="extension-tile-course bg1-grey">Unit 2<br>Patterns in space and time</div>
<div class="extension-tile-course bg1-pink">Unit 3<br> Predictive analysis</div>
</div>

.font130.font-dark.left[
  - **learning goals...**
]

--

.font130.font-dark.left[
  - **Random Forests .... **
]
 
--

.font130.font-dark.left[
  - **....**
]

---
# Applied Spatial Data Science II
## MSc level course divided in three units

--

<div class="grid-3-1">
<div class="extension-tile-course font150 bg1-blue">Unit 1<br> High Performance Computing (HPC)</div>
</div>

--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **Introduction to parallel computing - Computer architectures CPU vs. GPU...**
]

--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **Basics on unix operating systems and hands on...**
]
 
--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **Practice using Uni-Bern cluster...**
]

---
# Applied Spatial Data Science I
## MSc level course divided in three units

<div class="grid-3-1">
<div class="extension-tile-course font150 bg1-grey">Unit 1<br> Introduction to Spatial Data Science</div>
<div class="extension-tile-course bg1-orange">Unit 2<br>XXXXXXX</div>
</div>

--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **learning goals...**
]

--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **Deep learning**
]
 
--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **....**
]

---
# Applied Spatial Data Science II
## MSc level course divided in three units

<div class="grid-3-1">
<div class="extension-tile-course font150 bg1-grey">Unit 1<br> High Performance Computing (HPC)</div>
<div class="extension-tile-course bg1-grey">Unit 2<br>XXXXXXXXX</div>
<div class="extension-tile-course bg1-pink">Unit 3<br>XXXXXXXXX</div>
</div>

--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **learning goals...**
]

--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **.... **
]
 
--

.font130.font-dark.left.bg-washed-blue.b--dark-red.ba.bw0.br3.shadow-5.ph4.mb0.ml0[
  - **....**
]


---
layout: false
class: inverse, middle, center, mline

# Collaboration 


Remote Sensing Group - Satellite data archive NOAA/MetOp AVHRR - Vegetation and Snow time series analysis

Climate XXXXX - 

Land sustainability - 

Regional development????? 

---

# Conclusions 

---
class: clear, inverse

<img src="img/from-ts-to-events-inverse.svg" height="450"/>

.pull-left[
  `r rmarkdown::metadata$author`
]

.pull-right[
  **.right[.font300[Thank you!]]**
]


---
layout: false
class: inverse, middle, center, mline

# Extra slides 

---
layout: false

# Soy supply chains in Brazil

- Applied research I contribute to...

- Explain in short the work with Boku. How does Satellite + surveis + other data source feed into reconstruct supply chains and why is it important. Close on how event-based information could improve this analysis (causal inference and indirect land-use).

- Machine learning algorithms mapping... optimization for supply chains.... ???? 

---
layout: false
class: clear

---

- Application 2: Mineal extraction and regional developemtn

- Automated Depp-learning mapping 

- Volumetric changes using SAR data in collaboration with DLR

- Event-based reprensetation of mining: 4D entity (t, x, y, z) in contrast to 3D (t, x, y) land-use changes.

---
class: inverse, middle, center, mline
layout: false

# What about accuracy uncertanty on maps? 

---

# Copernicus land cover data set 

- I have contributed to global spatial accuracy analysis --- Copernicus global land cover data -- Refer to report. 

- It is available from Google Earth Engine plantfor or XXXXX

- Accuracy assessment and citizens science 



<!-- .pull-right.center[ -->
<!-- <img src="img/land-cover-mapping-items.svg" height="350"/> -->
<!-- .bg-washed-blue.b--dark-blue.ba.bw0.br3.shadow-5.mh1.mt0.font120[ -->
<!-- **The main issue is the lack of high quality labeled data on mining** -->
<!-- ]] -->

---
# Events do not have a well defined interval to happen

.left-column[
Detected changes in the trend component (red) of 16-day NDVI time series
(black) extracted from a single MODIS pixel within a pine plantation, planted in 2001 (top),
harvested in 2004 (middle), and with tree mortality occurring in 2007 (bottom) (source:
source: [Verbesselt et al. (2010)](https://doi.org/10.1016/j.rse.2009.08.014)).]

.right-column.center[<img src="img/bfast.png"/>]

---
# Mining and tropical forest loss

--

.footnote-left[Source: Giljum & Maus et al. (Manuscript under review)]

.right-column.center[<img src="img/tree_map-mining-forest-loss.png"/>]

--

.left-column.left.mt3[**Mining also causes tropical forest loss up to 50 km from the actual extraction sites due to indirect land-use changes.**]

???

- Just to bring an example of research unloked by the nove mining data 

- We have quantified the direct tropical forest loss due to mining 

- Not for example, Indonesia, where lots of coal mining has taken place over forests over the last two decades

- Besides that, mining also attracts other economic activities and settlements, which can cause further forest loss, but this time indirectly

- We found global mines can drive forest loss up to 50 km far from mining sites 
